 <!DOCTYPE html>
 <html lang="en">
 <head>
     <meta charset="UTF-8">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Ass tits titan</title>
     <link rel="stylesheet" href="style.css">
 </head>
 <body>
 
     <div id="main-content" class="main-content">
         <!-- <p>Hey!</p>
         <div class="main-body">

         </div>
         <h1>I'm being very unproductive</h1>
         <button id="screenshotBtn">Take Screenshot</button>
         <button id="sendToOpenAIBtn">Send to OpenAI</button>
         <button id="generatePrompt">Generate TTS Prompt</button>
    <button id="generateTTS">Generate TTS</button>
    <button id="playButton">Lipsync</button>
    <br>
    <img style="width: 200px;" id="mouth" src="assets/mouth-closed.png" alt="Mouth Animation"> -->

    <script src="renderer.js"></script>
         <!-- <button onclick="openSettings()">Open Settings</button>
         <script src="https://cdn.logwork.com/widget/countdown.js"></script>
<a href="https://logwork.com/countdown-timer" class="countdown-timer" data-timezone="Europe/Zurich" data-date="2025-02-24 05:00">Countdown Timer</a> -->
     </div>
 
     <!-- Settings Menu -->
     <div id="settings-container" class="container">
         <div class="settings-header">
             <span>Settings</span>
             <!-- <span onclick="closeSettings()" style="cursor: pointer;">X</span> -->
         </div>
 
         <div class="tabs">
             <button class="tab" onclick="openTab('audio')">Audio</button>
             <button class="tab" onclick="openTab('schedule')">Schedule</button>
             <button class="tab" onclick="openTab('temperament')">Temperament</button>
             <button class="tab" onclick="openTab('extra')">Extra</button>
         </div>
 
         <!-- Content for each tab -->
         <div id="audio" class="tab-content">
          <div class="settings-labels">
            <div>Volume</div>
            <div>Voice</div>
            <div>Enable post-processing</div>
          </div>
          <div class="settings-controls">
            <div class="volume-control">
              <div class="container-slider">
                <div class="range-1">
                  <datalist id="custom-list">
                    <option value="1"></option>
                    <option value="2"></option>
                    <option value="3"></option>
                    <option value="4"></option>
                    <option value="5"></option>
                    <option value="6"></option>
                    <option value="7"></option>
                    <option value="8"></option>
                    <option value="9"></option>
                    <option value="10"></option>
                    <option value="11"></option>
                  </datalist>
                  <input id="volume-slider" type="range" min="1" max="10" step="1" list="custom-list"></input>
                </div>
              </div>
            </div>
            <select id="voice-select">
              <option>Sheyla</option>
              <option>Alex</option>
            </select>
            <div class="checkbox">
              <input type="checkbox" id="enable-postprocessing" name="check" checked>
              <label for="enable-postprocessing"></label>
            </div>
          </div>
        </div>
 
         <div id="schedule" class="tab-content">
             <div class="settings-labels">
                 <div>Focus schedule</div>
                 <div>On these days</div>
                 <div>Interruption frequency</div>
             </div>
             <div class="settings-controls">
                 <div class="time-inputs">
                     <span>From</span>
                     <input type="time" class="time-box">
                     <span>To</span>
                     <input type="time" class="time-box">
                 </div>
                 <div class="days-selector">
                     <div class="day-box">mon</div>
                     <div class="day-box">tue</div>
                     <div class="day-box">wed</div>
                     <div class="day-box">thu</div>
                     <div class="day-box">fri</div>
                     <div class="day-box">sat</div>
                     <div class="day-box">sun</div>
                 </div><div class="container-slider">
                  <div class="range-1">
                    <datalist id="custom-list">
                      <option value="1"></option>
                      <option value="2"></option>
                      <option value="3"></option>
                      <option value="4"></option>
                      <option value="5"></option>
                      <option value="6"></option>
                      <option value="7"></option>
                      <option value="8"></option>
                      <option value="9"></option>
                      <option value="10"></option>
                      <option value="11"></option>
                    </datalist>
                    <input id="interruption-slider"  type="range" min="1" max="10" step="1" list="custom-list"></input>
                    
                  </div>
                 </div>
             </div>
         </div>
 
         <div id="temperament" class="tab-content">
             <div class="settings-labels">
                 <div>Profanity level</div>
                 <div>Prof</div>
             </div>
             <div class="container-slider">
              <div class="range-1">
                <datalist id="custom-list">
                  <option value="1"></option>
                  <option value="2"></option>
                  <option value="3"></option>
                  <option value="4"></option>
                  <option value="5"></option>
                  <option value="6"></option>
                  <option value="7"></option>
                  <option value="8"></option>
                  <option value="9"></option>
                  <option value="10"></option>
                  <option value="11"></option>
                </datalist>
                <input id="profanity-slider" type="range" min="1" max="10" step="1" list="custom-list"></input>

                <div class="checkbox">
                  <input type="checkbox" id="enable-flirting" name="check" checked>
                  <label for="enable-flirting"></label>
                </div>

              </div>
             </div>
         </div>
 
         <div id="extra" class="tab-content">
             <p>Extra settings go here.</p>
         </div>
 
         <div class="footer">
             <div class="icon">⏻</div>
             <div class="icon">⚙</div>
         </div>
     </div>
     <audio id="audioElement" src="assets/fx/old-radio-button-click-97549.mp3"></audio>

     <script>
          function openTab(tabId) {
                // Remove active class from all tab buttons
                document.querySelectorAll(".tab").forEach((tab) => {
                  tab.classList.remove("active-tab");
                });

                // Remove active class from all tab content
                document.querySelectorAll(".tab-content").forEach((tab) => {
                  tab.classList.remove("active");
                });

                // Add active class to the clicked tab button
                const activeTabButton = document.querySelector(`.tab[onclick="openTab('${tabId}')"]`);
                if (activeTabButton) {
                  activeTabButton.classList.add("active-tab");
                }

                // Add active class to the corresponding tab content
                const activeTabContent = document.getElementById(tabId);
                if (activeTabContent) {
                  activeTabContent.classList.add("active");
                }
              }
              openTab("audio")
         function openSettings() {
             document.getElementById("main-content").classList.add("hidden");
             document.getElementById("settings-container").classList.remove("hidden");
             openTab("audio"); // Default to first tab
         }
 
         function closeSettings() {
             document.getElementById("settings-container").classList.add("hidden");
             document.getElementById("main-content").classList.remove("hidden");
         }
     </script>
     <script src="settings.js"></script>
 
    <script>
    
    // Logic for mp3 to lipsync

      // Audio setup
      const audio = new Audio('assets/output.mp3'); 
      const images = ['assets/mouth-closed.png', 'assets/mouth-half-closed.png', 'assets/mouth-open.png'];
      
      const imgElement = document.getElementById("mouth");
      const playButton = document.getElementById("playButton");
      
      // Web Audio API setup
      let audioCtx, analyser, dataArray;
      
      function setupAudio() {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        analyser = audioCtx.createAnalyser();
        analyser.fftSize = 256;
      
        const source = audioCtx.createMediaElementSource(audio);
        source.connect(analyser);
        analyser.connect(audioCtx.destination);
      
        dataArray = new Uint8Array(analyser.frequencyBinCount);
      }
      
      // Function to update mouth animation
      function animateMouth() {
        if (!audioCtx || audio.paused) return;
      
        analyser.getByteFrequencyData(dataArray);
      
        let sum = 0;
        for (let i = 0; i < dataArray.length; i++) {
          sum += dataArray[i];
        }
        const avgVolume = sum / dataArray.length;
      
        // Choose the mouth image based on volume
        if (avgVolume < 50) {
          imgElement.src = images[0]; // Closed mouth
        } else if (avgVolume < 120) {
          imgElement.src = images[1]; // Half-open mouth
        } else {
          imgElement.src = images[2]; // Fully open mouth
        }
      
        requestAnimationFrame(animateMouth);
      }
      
      // Start audio and animation on button click
      playButton.addEventListener("click", () => {
        if (!audioCtx) {
          setupAudio();
        }
      
        audioCtx.resume().then(() => {
          audio.play();
          animateMouth();
        });
      });
      </script>
 </body>
 </html>
 
 